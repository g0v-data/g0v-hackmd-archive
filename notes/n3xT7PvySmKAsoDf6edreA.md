#  微處理機實習

### Lab1

```
//
// GPIO_7seg_keypad : 3x3 keypad inpt and display on 7-segment LEDs
//
#include <stdio.h>
#include "NUC100Series.h"
#include "MCU_init.h"
#include "SYS_init.h"
#include "Seven_Segment.h"
#include "Scankey.h"

// display an integer on four 7-segment LEDs
void Display_7seg(uint16_t value)
{
    uint8_t digit;
    digit = value / 1000;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(3,digit);
    }
    CLK_SysTickDelay(5000);

    value = value - digit * 1000;
    digit = value / 100;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(2,digit);
    }
    CLK_SysTickDelay(5000);

    value = value - digit * 100;
    digit = value / 10;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(1,digit);
    }
    CLK_SysTickDelay(5000);

    value = value - digit * 10;
    digit = value;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(0,digit);
    }
    CLK_SysTickDelay(5000);
}

int main(void)
{
    uint16_t i;
    i = 0;
    int a=0;
    int b=0;
    int c=0;
    int d=0;
    int ans=0;
    int num=0;
    int f=0;
    int tmp;

    SYS_Init();

    OpenSevenSegment();
      OpenKeyPad();

        while(1) {
            i=ScanKey();
            if(i==8&&f==0){
                a=0;
                b=0;
                c=0;
                d=0;
                f=1;
            }
            else if(i==9&&f==0){
                tmp = a;
                a=b;
                b=c;
                c=d;
                d=tmp;
                f=1;
            }else if(i==7&&f==0){
                tmp=d;
                d=c;
                c=b;
                b=a;
                a=tmp;
                f=1;
            }else if(i!=0&&i!=7&&i!=8&&i!=9&&f==0){
                d=c;
                c=b;
                b=a;
                a=i;
                f=1;
            }else if(i==0&&f==1){
                f=0;
            }
            Display_7seg(d*1000+c*100+b*10+a);
            /*if(i!=0&&f==0){
                d=c*10;
                c=b*10;
                b=a*10;
                a=i;
                f=1;
            }else if(i==0&&f==1){
                f=0;
            }*/

        }		
}
```
### Lab2

```
//
// GPIO_7seg_keypad : 3x3 keypad inpt and display on 7-segment LEDs
//
#include <stdio.h>
#include "NUC100Series.h"
#include "MCU_init.h"
#include "SYS_init.h"
#include "Seven_Segment.h"
#include "Scankey.h"

int upTone[3] = {1100, 700, 300};
int downTone[3] = {300, 700, 1100};
int Tone[3] = {500, 500, 500};

// display an integer on four 7-segment LEDs
void Display_7seg(uint16_t value)
{
    uint8_t digit;
    digit = value / 1000;

    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(3,digit);
    }
    CLK_SysTickDelay(5000);

    value = value - digit * 1000;
    digit = value / 100;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(2,digit);
    }
    CLK_SysTickDelay(5000);

    value = value - digit * 100;
    digit = value / 10;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(1,digit);
    }
    CLK_SysTickDelay(5000);

    value = value - digit * 10;
    digit = value;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(0,digit);
    }
    CLK_SysTickDelay(5000);
    CloseSevenSegment();
}

void Buzz(int number,uint32_t vel)
{
    int i;
    float times = (1955-vel)/4;
    for (i=0; i<number+times; i++) {
        PB11=0; // PB11 = 0 to turn on Buzzer
        CLK_SysTickDelay(vel);	 // Delay 
        PB11=1; // PB11 = 1 to turn off Buzzer	
        CLK_SysTickDelay(vel);	 // Delay 
    }
}

void play(int action){
    int i;
    if(action == 1){
        for(i=0;i<3;i++){
            CLK_SysTickDelay(100000);
            Buzz(2,upTone[i]);
        }//tone up
    }else if(action == 2){
        for(i=0;i<3;i++){
            CLK_SysTickDelay(100000);
            Buzz(2,downTone[i]);
        }//tone down
    }else{
        for(i=0;i<3;i++){
            CLK_SysTickDelay(100000);
            Buzz(2,Tone[i]);
        }//tone three
    }
}


int main(void)
{
    uint16_t i;
    int a=0;
    int b=0;
    int c=0;
    int d=0;
    int f=0;
    int tmp;
    int j;
	
	
    SYS_Init();
	
    GPIO_SetMode(PB, BIT11, GPIO_MODE_OUTPUT);

    OpenSevenSegment();
    OpenKeyPad();

    while(1) {
        i=ScanKey();
        if(i==4&&f==0){
            a=0;
            b=0;
            c=0;
            d=0;
            f=1;
        }
        else if(i==6&&f==0){
            a=b;
            b=c;
            c=d;
            d=0;
            f=1;
        }else if((i==1||i==2||i==3)&&f==0){
            d=c;
            c=b;
            b=a;
            a=i;
            f=1;
        }else if(i==5&&f==0){
            for(j=0;j<3;j++){
                if(c!=0){
                    d = c;
                    c=0;
                }else{
                    if(b!=0){
                        d = b;
                        b=0;
                    }else{
                        if(a!=0){
                            d=a;
                            a=0;
                        }
                    }
                }
                ShowSevenSegment(3, d);
                if(d!=0){
                    play(d);
                    d=0;
                }
            }
            CloseSevenSegment();
        }else if(i==0&&f==1){
            f=0;
        }
        Display_7seg(d*1000+c*100+b*10+a);
    }
}
```
### Lab3

```
//
// LCD_keypad : 3x3 keypad input and display on LCD
//
// EVB : Nu-LB-NUC140
// MCU : NUC140VE3CN  (LQPF-100)
#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include "NUC100Series.h"
#include "MCU_init.h"
#include "SYS_init.h"
#include "LCD.h"
#include "Scankey.h"
#include "Seven_Segment.h"
#include <stdlib.h>

char Text[16] = "                ";
int tone = 1955;
int i;

// display an integer on four 7-segment LEDs
void Display_7seg(uint16_t value)
{
    uint8_t digit;
    digit = value / 1000;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(3,digit);
    }
    CLK_SysTickDelay(5000);

    value = value - digit * 1000;
    digit = value / 100;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(2,digit);
    }
    CLK_SysTickDelay(5000);

    value = value - digit * 100;
    digit = value / 10;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(1,digit);
    }
    CLK_SysTickDelay(5000);

    value = value - digit * 10;
    digit = value;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(0,digit);
    }
    CLK_SysTickDelay(5000);
}

/*void judgeSuccess(){
    if(pass4!=0){
        if(pass4==ans){
            sprintf(Text4,"%d        PASS", pass4);
            print_Line(3, Text4);
            success=1;
        }else{
            sprintf(Text4,"%d       ERROR", pass4);
            print_Line(3, Text4);
        }
    }else if(pass3!=0){
        if(pass3==ans){
            sprintf(Text3,"%d        PASS", pass3);
            print_Line(2, Text3);
            success=1;
        }else{
            sprintf(Text3,"%d       ERROR", pass3);
            print_Line(2, Text3);
        }
    }else if(pass2!=0){
        if(pass2==ans){
            sprintf(Text2,"%d        PASS", pass2);
            print_Line(1, Text2);
            success=1;
        }else{
            sprintf(Text2,"%d       ERROR", pass2);
            print_Line(1, Text2);
        }
    }else if(pass1!=0){
        if(pass3==ans){
            sprintf(Text1,"%d        PASS", pass3);
            print_Line(0, Text1);
            success=1;
        }else{
            sprintf(Text1,"%d       ERROR", pass3);
            print_Line(0, Text1);
        }
    }
    if(success==1){
        success=0;
    }
}*/
//

void Disply_LED(){
    for(i=0;i<3;i++) {
        PC12=0;
        CLK_SysTickDelay(100000);
        PC12=1;
        CLK_SysTickDelay(100000);
        PC13=0;
        CLK_SysTickDelay(100000);
        PC13=1;
        CLK_SysTickDelay(100000);
        PC14=0;
        CLK_SysTickDelay(100000);
        PC14=1;
        CLK_SysTickDelay(100000);
        PC15=0;
        CLK_SysTickDelay(100000);
        PC15=1;
        CLK_SysTickDelay(100000);
        PC14=0;
        CLK_SysTickDelay(100000);
        PC14=1;
        CLK_SysTickDelay(100000);
        PC13=0;
        CLK_SysTickDelay(100000);
        PC13=1;
        CLK_SysTickDelay(100000);
        PC12=0;
        CLK_SysTickDelay(100000);
        PC12=1;
        CLK_SysTickDelay(100000);
    }
}

void Buzz(uint32_t number, uint32_t vel){
    int i;
    int times;
    times = (1955-vel)/4;
    for(i=0;i<number+times;i++){
        PB11=0;
        CLK_SysTickDelay(vel);
        PB11=1;
        CLK_SysTickDelay(vel);
    }
}

int a;
int main(void)
{
    int count;
    int a=0;
    int b=0;
    int c=0;
    int d=0;
    int line=0;
    int plusAns;
    int minusAns;
    int mutiAns;
    int diviAns;
    int sevenAns=0;
    int i;
    int tmp;
    int f=0;
    char Plus[16] = "                ";
    char Minus[16] = "                ";
    char Muti[16] = "                ";
    char Divi[16] = "                ";
    int pass=0;
    int ans;
    int record=1;
    uint8_t keyin;

    SYS_Init();

    init_LCD();
    clear_LCD();

    OpenSevenSegment();
    OpenKeyPad();
	
    /*while(1){
        i=ScanKey();
        if(a!=0&&b!=0&&f==0){
            if(i==0){
                sprintf(Plus,"%d+%d = %d", a,b,a+b); // print scankey input to string
                sprintf(Minus,"%d-%d = %d", a,b,a-b);
                sprintf(Muti,"%d*%d = %d", a,b,a*b);
                sprintf(Divi,"%d/%d = %d", a,b,a/b);
                print_Line(0, Plus);
                print_Line(1, Minus);
                print_Line(2, Muti);
                print_Line(3, Divi);
                //sprintf(Text+10,"Hello"); // print scankey input to string
                //print_Line(1, Text);         // display string on LCD
                //printS(0, 32, "Hello");
                //printS(80, 32, "World");
                //printC(0,48,'H');
                //printC(3*8,48,'i');
                CLK_SysTickDelay(50000);   // delay 
            }else{
                a=0;
                b=i;
                sevenAns=a*1000+b;
                f=1;
                clear_LCD();
            }
        }else if(i!=0&&f==0){
            a=b;
            b=i;
            sevenAns = a*1000+b;
            f=1;
        }else if(i==0&&f==1){
            f=0;
        }
        Display_7seg(sevenAns);
    }*/
    while(1){
        i=ScanKey();
        Display_7seg(ans);
        if(i==7&&f==0){
            pass=0;
            clear_LCD();
            line=0;
            while(1){
                count++;
                srand(count);
                a = (rand()%6)+1;
                b = (rand()%6)+1;
                c = (rand()%6)+1;
                d = (rand()%6)+1;
                ans = a*1000+b*100+c*10+d;
                break;
            }
            a = 0;
            b = 0;
            c = 0;
            d = 0;
            f=1;
        }else if(i==8&&f==0){
            clear_LCD();
            pass=0;
            a=0;
            b=0;
            c=0;
            d=0;
            f=1;
            line=0;
        }else if(i==9&&f==0&&line<4){
            if(pass==ans){
                sprintf(Text, "%4d        PASS",pass);
                print_Line(line ,Text);
                Disply_LED();
                //clear_LCD();
            }else if(pass==0){
                sprintf(Text, "            NULL");
                print_Line(line ,Text);
            }else{
                CLK_SysTickDelay(100000);
                Buzz(250, tone);
                sprintf(Text, "%4d       ERROR",pass);
                print_Line(line ,Text);
            }
            a=0;
            b=0;
            c=0;
            d=0;
            f=1;
            pass=0;
            line++;
        }else if(i!=7&&i!=8&&i!=9&&i!=0&&f==0){
            if(a==0){
                a=b;
                b=c;
                c=d;
                d=i;
                                f=1;
                pass = a*1000+b*100+c*10+d;
            }
            sprintf(Text, "%4d", pass);
            print_Line(line ,Text);
        }
        else if(i==0&&f==1){
            f=0;
        }
    }
}
```

### Lab4

```
//
// LCD_keypad : 3x3 keypad input and display on LCD
//
// EVB : Nu-LB-NUC140
// MCU : NUC140VE3CN  (LQPF-100)
#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include "NUC100Series.h"
#include "MCU_init.h"
#include "SYS_init.h"
#include "LCD.h"
#include "Scankey.h"
#include "Seven_Segment.h"
#include <stdlib.h>

char Text[16] = "                ";
int tone = 1955;

// display an integer on four 7-segment LEDs
void Display_7seg(uint16_t value)
{
    uint8_t digit;
    digit = value / 1000;
    CloseSevenSegment();
    if(digit!=0){
    	ShowSevenSegment(3,digit);
    }
    CLK_SysTickDelay(5000);
			
    value = value - digit * 1000;
    digit = value / 100;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(2,digit);
    }
    CLK_SysTickDelay(5000);

    value = value - digit * 100;
    digit = value / 10;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(1,digit);
    }
    CLK_SysTickDelay(5000);

    value = value - digit * 10;
    digit = value;
    CloseSevenSegment();
    if(digit!=0){
        ShowSevenSegment(0,digit);
    }
    CLK_SysTickDelay(5000);
}

/*void judgeSuccess(){
    if(pass4!=0){
        if(pass4==ans){
            sprintf(Text4,"%d        PASS", pass4);
            print_Line(3, Text4);
            success=1;
        }else{
            sprintf(Text4,"%d       ERROR", pass4);
            print_Line(3, Text4);
        }
    }else if(pass3!=0){
        if(pass3==ans){
            sprintf(Text3,"%d        PASS", pass3);
            print_Line(2, Text3);
            success=1;
        }else{
            sprintf(Text3,"%d       ERROR", pass3);
            print_Line(2, Text3);
        }
    }else if(pass2!=0){
        if(pass2==ans){
            sprintf(Text2,"%d        PASS", pass2);
            print_Line(1, Text2);
            success=1;
        }else{
            sprintf(Text2,"%d       ERROR", pass2);
            print_Line(1, Text2);
        }
    }else if(pass1!=0){
        if(pass3==ans){
            sprintf(Text1,"%d        PASS", pass3);
            print_Line(0, Text1);
            success=1;
        }else{
            sprintf(Text1,"%d       ERROR", pass3);
            print_Line(0, Text1);
        }
    }
    if(success==1){
        success=0;
    }
}*/
//

void Disply_LED(){
    for(i=0;i<3;i++) {
        PC12=0;
        CLK_SysTickDelay(100000);
        PC12=1;
        CLK_SysTickDelay(100000);
        PC13=0;
        CLK_SysTickDelay(100000);
        PC13=1;
        CLK_SysTickDelay(100000);
        PC14=0;
        CLK_SysTickDelay(100000);
        PC14=1;
        CLK_SysTickDelay(100000);
        PC15=0;
        CLK_SysTickDelay(100000);
        PC15=1;
        CLK_SysTickDelay(100000);
        PC14=0;
        CLK_SysTickDelay(100000);
        PC14=1;
        CLK_SysTickDelay(100000);
        PC13=0;
        CLK_SysTickDelay(100000);
        PC13=1;
        CLK_SysTickDelay(100000);
        PC12=0;
        CLK_SysTickDelay(100000);
        PC12=1;
        CLK_SysTickDelay(100000);
    }
}

void Buzz(unit32_t number, unit32_t vel){
    int i;
    int times;
    times = (1955-vel)/4
    for(i=0;i<number+times;i++){
        PB11=0;
        CLK_SysTickDelay(vel);
        PB11=1;
        CLK_SysTickDelay(vel);
    }
}

int a;
int main(void)
{
    int count;
    int a=0;
    int b=0;
    int c=0;
    int d=0;
    int line=0;
    int plusAns;
    int minusAns;
    int mutiAns;
    int diviAns;
    int sevenAns=0;
    int i;
    int tmp;
    int f=0;
    char Plus[16] = "                ";
    char Minus[16] = "                ";
    char Muti[16] = "                ";
    char Divi[16] = "                ";
    int pass=0;
    int ans;
    int record=1;
    uint8_t keyin;

    SYS_Init();
    
    init_LCD();
    clear_LCD();
    
    OpenSevenSegment();
    OpenKeyPad();
	
    /*while(1){
    	i=ScanKey();
    	if(a!=0&&b!=0&&f==0){
            if(i==0){
                sprintf(Plus,"%d+%d = %d", a,b,a+b); // print scankey input to string
                sprintf(Minus,"%d-%d = %d", a,b,a-b);
                sprintf(Muti,"%d*%d = %d", a,b,a*b);
                sprintf(Divi,"%d/%d = %d", a,b,a/b);
                print_Line(0, Plus);
                print_Line(1, Minus);
                print_Line(2, Muti);
                print_Line(3, Divi);
                //sprintf(Text+10,"Hello"); // print scankey input to string
                //print_Line(1, Text);         // display string on LCD
                //printS(0, 32, "Hello");
                //printS(80, 32, "World");
                //printC(0,48,'H');
                //printC(3*8,48,'i');
                CLK_SysTickDelay(50000);   // delay 
                }else{
                a=0;
                b=i;
                sevenAns=a*1000+b;
                f=1;
                clear_LCD();
            }
    	}else if(i!=0&&f==0){
            a=b;
            b=i;
            sevenAns = a*1000+b;
            f=1;
    	}else if(i==0&&f==1){
            f=0;
    	}
    	Display_7seg(sevenAns);
    }*/
    while(1){
        i=ScanKey();
        if(i==7&&f==0){
            pass=0;
            while(1){
                count++;
                srand(count);
                a = (rand()%6)+1;
                b = (rand()%6)+1;
                c = (rand()%6)+1;
                d = (rand()%6)+1;
                ans = a*1000+b*100+c*10+d;
                break;
            }
            a = 0;
            b = 0;
            c = 0;
            d = 0;
            Display_7seg(ans);
        }else if(i==8&&f==0){
            clear_LCD();
            pass=0;
            a=0;
            b=0;
            c=0;
            d=0;
            line=0;
        }else if(i==9&&f==0){
            if(pass==ans){
                Disply_LED();
                sprintf(Text, "%4d        PASS");
                print_Line(line ,Text);
            }else if(pass==0){
                sprintf(Text, "            NULL");
                print_Line(line ,Text);
            }else{
                CLK_SysTickDelay(100000);
                Buzz(250, tone);
                sprintf(Text, "%4d       ERROR");
                print_Line(line ,Text);
            }
            a=0;
            b=0;
            c=0;
            d=0;
            line++;
        }else if(i!=7&&i!=8&&i!=9&&i!=0&&f==0){
            if(a==0){
                a=b;
                b=c;
                c=d;
                d=i;
                pass = a*1000+b*100+c*10+d;
            }
            sprintf(Text, "%4d");
            print_Line(line ,Text);
        }
        else if(i==0&&f==1){
            f=0;
        }
    }
}
```

## Lab5
### Lab5-1
黑色長方形 邊界反彈

```
//
// LCD_Bmp_Keypad: use 3x3 keypad to move bitmap on LCD
//
#include <stdio.h>
#include "NUC100Series.h"
#include "MCU_init.h"
#include "SYS_init.h"
#include "LCD.h"
#include "Scankey.h"

unsigned char bmp16x8[16] = {
	0xFF,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0xFF
};

unsigned char Bmp8x16[16] = {
	0xFF,0x01,0x01,0x01,0x01,0x01,0x01,0xFF,
	0xFF,0x80,0x80,0x80,0x80,0x80,0x80,0xFF
};

void change(int count, int x, int y){
	int i;
		if(count%2==0){
			for(i=0;i<16;i++){
				bmp16x8[i] = ~bmp16x8[i];
			}
			draw_Bmp16x8(x,y,FG_COLOR,BG_COLOR,bmp16x8); // Draw Object
			CLK_SysTickDelay(100000);                      // Delay for Vision
			draw_Bmp16x8(x,y,BG_COLOR,BG_COLOR,bmp16x8); // Erase Object
		}else{
			for(i=0;i<16;i++){
				Bmp8x16[i] = ~Bmp8x16[i];
			}
			draw_Bmp8x16(x,y,FG_COLOR,BG_COLOR,Bmp8x16); // Draw Object
			CLK_SysTickDelay(100000);                      // Delay for Vision
			draw_Bmp8x16(x,y,BG_COLOR,BG_COLOR,Bmp8x16); // Erase Object
		}
}

int main(void)
{
	int count=0;
	int8_t x=0,y=0;
	int8_t keyin=0;
	int8_t movX=3, dirX=0;
	int8_t movY=3, dirY=0;

	SYS_Init();
	  
	init_LCD();
	clear_LCD();
	
	OpenKeyPad();
	
  x=64; y=32;	
	//print_Line(0,"LCD Bmp Keypad");
	//print_Line(2,"to move bitmap");
	//print_Line(3,"press Keypad 1~9");
	draw_Bmp16x8(x,y,FG_COLOR,BG_COLOR,bmp16x8);
	
	while(keyin==0) keyin=ScanKey(); // wait till key is pressed

	clear_LCD();
	
	while(1) {
		if(count%2==0){
			draw_Bmp16x8(x,y,FG_COLOR,BG_COLOR,bmp16x8); // Draw Object
			CLK_SysTickDelay(100000);                      // Delay for Vision
			draw_Bmp16x8(x,y,BG_COLOR,BG_COLOR,bmp16x8); // Erase Object
		}else{
			draw_Bmp8x16(x,y,FG_COLOR,BG_COLOR,Bmp8x16); // Draw Object
			CLK_SysTickDelay(100000);                      // Delay for Vision
			draw_Bmp8x16(x,y,BG_COLOR,BG_COLOR,Bmp8x16); // Erase Object
		}
		
		
    keyin=ScanKey(); // Scan 3x3 keypad
    switch(keyin){   // input 1~9 to chang (x,y) direction
		  case 1:	dirX=-1; dirY=-1; break;
			case 2: dirX=0;  dirY=-1; break;
			case 3: dirX=+1; dirY=-1; break;
			case 4:	dirX=-1; dirY=0;  break;
			case 5: count++;  break;
			case 6: dirX=+1; dirY=0;  break;
		  case 7:	dirX=-1; dirY=+1; break;
			case 8: dirX=0;  dirY=+1; break;
			case 9: dirX=+1; dirY=+1; break;			
			default: break;
		}
		
		x=x + dirX * movX; // increment/decrement X
		y=y + dirY * movY; // increment/decrement Y
		
		if(count%2==0){
			if (x<0){
				dirX=1; // check X boundary Min
				change(count,x,y);
				CLK_SysTickDelay(1000000);
				change(count,x,y);
			}
			if (x>LCD_Xmax-17){
				change(count,x,y);
				CLK_SysTickDelay(1000000);
				change(count,x,y);
				dirX=-1;    
			}      // check X boundary Max
			if (y<0){
				change(count,x,y);
				CLK_SysTickDelay(1000000);
				change(count,x,y);
				dirY=1; // check Y boundary Min
			}
			if (y>LCD_Ymax-9) {
				change(count,x,y);
				CLK_SysTickDelay(1000000);
				change(count,x,y);
				dirY=-1;		 
			}			// check Y boundary Max
		}else{
			if (x<0){
				dirX=1; // check X boundary Min
				change(count,x,y);
				CLK_SysTickDelay(1000000);
				change(count,x,y);
			}
			if (x>LCD_Xmax-11){
				change(count,x,y);
				CLK_SysTickDelay(1000000);
				change(count,x,y);
				dirX=-1;    
			}      // check X boundary Max
			if (y<0){
				change(count,x,y);
				CLK_SysTickDelay(1000000);
				change(count,x,y);
				dirY=1; // check Y boundary Min
			}
			if (y>LCD_Ymax-17) {
				change(count,x,y);
				CLK_SysTickDelay(1000000);
				change(count,x,y);
				dirY=-1;		 
			}			// check Y boundary Max
		}
	}
}
```

### Lab5-2
圈圈叉叉
```
```

## Lab6
小綠人過馬路

```
//
// LCD: display Text on LCD
//
// EVB : Nu-LB-NUC140
// MCU : NUC140VE3CN  (LQPF-100)
#include <stdio.h>
#include "NUC100Series.h"
#include "MCU_init.h"
#include "SYS_init.h"
#include "LCD.h"
#include "Seven_Segment.h"

unsigned char go_one128x64[128*8]={
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xFC,0xFF,0x3F,0x0F,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x07,0x3F,0xFE,0xFC,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x7F,0xFF,0xFE,0xE0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xE0,0xE0,0xF8,0xFC,0x3F,0x1F,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0xE1,0xFF,0xFF,0x3F,0x01,0x01,0x01,0x80,0x80,0xC0,0xC0,0xE0,0xF0,0xF0,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0xF0,0xF0,0x78,0x78,0x38,0x3C,0x3C,0x1C,0x1E,0x1E,0x0E,0x0F,0xFF,0xFF,0xFF,0x1C,0x1E,0x1F,0x0F,0x07,0x07,0x03,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x70,0x70,0x70,0x70,0xF0,0xE0,0xE0,0xE0,0xE0,0xE0,0xFF,0xFF,0xFF,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x07,0x1F,0x3F,0x7C,0xF0,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

unsigned char go_two128x64[128*8]={
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xFC,0xFF,0x3F,0x0F,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x07,0x3F,0xFE,0xFC,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x7F,0xFF,0xFE,0xE0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xE0,0xE0,0xF8,0xFC,0x3F,0x1F,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0xE1,0xFF,0xFF,0x3F,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xE0,0xF0,0xF8,0x7C,0x3E,0x1F,0xFF,0xFF,0xFF,0x0F,0x1E,0x3C,0x78,0xF0,0xF0,0xE0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x03,0x03,0x01,0x00,0x00,0x80,0x80,0xFF,0xFF,0xFF,0x80,0x00,0x00,0x00,0x00,0x01,0x03,0x07,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0xF0,0xF0,0x78,0x3C,0x3C,0x1E,0x0F,0x0F,0x07,0x03,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0F,0x0E,0x0E,0x1E,0x1C,0x1C,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

unsigned char go_three128x64[128*8]={
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xE0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xFC,0xFF,0x3F,0x0F,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x07,0x3F,0xFE,0xFC,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x7F,0xFF,0xFE,0xE0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xE0,0xE0,0xF8,0xFC,0x3F,0x1F,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x38,0x78,0x70,0xF0,0xE0,0xE0,0xC0,0xC0,0x81,0x81,0x81,0x01,0xE1,0xFF,0xFF,0x3F,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x03,0x03,0x03,0x07,0x07,0xFF,0xFF,0xFF,0x0F,0x1E,0x3C,0x78,0xF0,0xF0,0xE0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0xFF,0xFF,0xFF,0x80,0xC0,0xC0,0xC0,0xC0,0xE1,0xE3,0xE7,0xE7,0xF0,0x70,0x70,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0xF0,0xF0,0x78,0x3C,0x3C,0x1E,0x0F,0x0F,0x07,0x03,0x07,0x07,0x07,0x03,0x03,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

unsigned char stop128x64[128*8]={
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0xF0,0xF8,0x3C,0x3C,0x1C,0x1C,0x1C,0x1C,0x1C,0x1C,0x1C,0x1C,0x1C,0x3C,0x38,0x38,0x78,0xF0,0xF0,0xE0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xFF,0xFF,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xFF,0xFF,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x0F,0x1F,0x7E,0xF8,0xF0,0xE0,0xE0,0xE0,0xE0,0xF0,0xF0,0xF0,0x78,0x38,0x3C,0x1E,0x1F,0x0F,0x07,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0xFF,0xFF,0xC0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xE0,0xE0,0xF0,0x78,0x7C,0x3C,0x1E,0x0E,0x0F,0x87,0xFF,0xFF,0xFF,0x03,0x03,0x07,0x07,0x0F,0x0E,0x1E,0x3C,0x38,0x78,0xF0,0xE0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x03,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xC0,0xF0,0xF8,0xFC,0x3E,0x1F,0x0F,0x0F,0x1E,0x1C,0x3C,0x38,0x78,0x70,0xF0,0xE0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x03,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

volatile uint8_t ledState=0;
int count=9;
int walk=0;
void TMR0_IRQHandler(){
	
	ledState = ~ledState;
	count--;
	ShowSevenSegment(0,count);
	if(count==0){
		if(walk==1){
			walk=0;
			PA12=1;
			PA13=0;
			PA14=1;
		}else{
			walk=0;
			PA12=1;
			PA13=1;
			PA14=0;
		}
	}
	/*if(ledState){
		PA12=0;
	}else{
		PA12=1;
	}*/
	TIMER_ClearIntFlag(TIMER0);
}

void Init_Timer0(){
	TIMER_Open(TIMER0, TMR0_OPERATING_MODE, TMR0_OPERATING_FREQ);
	TIMER_EnableInt(TIMER0);
	NVIC_EnableIRQ(TMR0_IRQn);
	TIMER_Start(TIMER0);
}



void EINT1_IRQHandler(){
	GPIO_CLR_INT_FLAG(PB, BIT15);
}

void Init_EXTINT(){
	GPIO_SetMode(PB, BIT15, GPIO_MODE_INPUT);
	GPIO_EnableEINT1(PB, 15, GPIO_INT_RISING);
	NVIC_EnableIRQ(EINT1_IRQn);
	
	GPIO_SET_DEBOUNCE_TIME(GPIO_DBCLKSRC_LIRC, GPIO_DBCLKSEL_64);
	GPIO_ENABLE_DEBOUNCE(PB, BIT15);
}

int main(void)
{
	SYS_Init();
	init_LCD();
	clear_LCD();
	
	//Init_EXTINT();
	GPIO_SetMode(PC, BIT12, GPIO_MODE_OUTPUT);
	Init_Timer0();
	OpenSevenSegment();
	while(1);
	
	//while(1){
		
	//	greenLight();
	//	redLight();
	//}
	
}

```
