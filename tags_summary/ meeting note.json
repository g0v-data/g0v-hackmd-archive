{"KBowSCYBR4aCWcSK-Q1k-w":{"content":"\n20250203 會議記錄\n=====\n\n:::info\n- [所有會議記錄](https://g0v.hackmd.io/@mrorz/cofacts-meeting-notes/)\n- 線上出席：\n- https://gather.town/app/z3x18KQFgZCX8MeZ/cofacts\n:::\n\n## :potable_water: Release pipeline\n\n### :star: Released to production\n\n#### :electric_plug: API\n#### :globe_with_meridians: Site\n\nhttps://github.com/cofacts/rumors-site/releases/tag/release%2F20250127\n- AI reply feedbacks\n- News\n\n#### :robot_face: rumors-line-bot\n\nhttps://github.com/cofacts/rumors-line-bot/releases/tag/re...","tags":[["tags","cofacts, meeting note"],["GA","UA-98468513-3"]]},"X92JNs1USOC9ylqnN02EBw":{"content":"\n20250127 會議記錄\n=====\n\n:::info\n- [所有會議記錄](https://g0v.hackmd.io/@mrorz/cofacts-meeting-notes/)\n- 線上出席：bil, mrorz, nonumpa, 4000\n- https://gather.town/app/z3x18KQFgZCX8MeZ/cofacts\n:::\n\n## :potable_water: Release pipeline\n\n### :star: Released to production\n\n#### :electric_plug: API\n- Langfuse integration https://github.com/cofacts/rumors-api/releases/tag/release%2F20250121\n\n### :rocket: Staging\n\n#### :robot_face: rumors-line-bot\n\n- Langfuse integration https://github.com/cofacts/r...","tags":[["tags","cofacts, meeting note"],["GA","UA-98468513-3"]]},"jkknRKrIRIKkI7V20EogTg":{"content":"\n20250120 會議記錄\n=====\n\n:::info\n- [所有會議記錄](https://g0v.hackmd.io/@mrorz/cofacts-meeting-notes/)\n- 線上出席：品君, nonumpa, EJ\n- NPO Hub: bil, mrorz\n- https://gather.town/app/z3x18KQFgZCX8MeZ/cofacts\n:::\n\n## :potable_water: Release pipeline\n\n### :rocket: Staging\n\n#### :electric_plug: API\n\n- Add langfuse integration https://github.com/cofacts/rumors-api/pull/355\n    - Use doc ID as trace ID so that we can attach scores later\n\n#### :robot_face: rumors-line-bot\n\n##### Testing checklist\n\nh...","tags":[["tags","cofacts, meeting note"],["GA","UA-98468513-3"]]},"5-jQ-pWnT4iOEOos9t7Cyw":{"content":"\n20241202 會議記錄\n=====\n\n:::info\n- [所有會議記錄](https://g0v.hackmd.io/@mrorz/cofacts-meeting-notes/)\n- NPO hub 出席：bil, nonumpa, mrorz\n- 線上出席：品君, T, EJ\n- https://gather.town/app/z3x18KQFgZCX8MeZ/cofacts\n:::\n\n## :potable_water: Release pipeline\n\n### :star: Released to production\n\n#### :globe_with_meridians: Site\n\n- belong112++\nhttps://github.com/cofacts/rumors-site/releases/tag/release%2F20241202\n\n#### :robot_face: rumors-line-bot\n\n### :rocket: Staging\n\n#### :electric_plug: API\n\nbl...","tags":[["tags","cofacts, meeting note"],["GA","UA-98468513-3"]]},"Jqg-lecyRhKtFDnbxnx_ZA":{"content":"\n#### Possible Solution: GCS bucket --> Cloudflare R2\n\nThanks to @alex for proposing the idea!\n\nPros\n- [No egress fee](https://developers.cloudflare.com/r2/pricing) 而且 class A & B operation 比 GCS 的便宜\n- [Sippy](https://developers.cloudflare.com/r2/data-migration/sippy/) incremental migration\n    - 可以先只改 rumors-api 輸出 URL 的部分，讓它輸出 R2 URL\n\nCons\n- 未來開發 Gemini transcript 時，傳檔給 Vertex AI 似乎一定要用 GCS，因此 GCS 上傳還是不可少\n- Cloudflare 無法開發票（好像要企業版）...","tags":[["20241125 會議記錄",""],["=====",""],["",""],["","::info"],["- [所有會議記錄](https","//g0v.hackmd.io/@mrorz/cofacts-meeting-notes/)"],["- NPO Hub 出席：bil, mrorz, nonumpa",""],["- 線上出席：T",""],["- https","//gather.town/app/z3x18KQFgZCX8MeZ/cofacts"],["","::"],["",""],["##","potable_water: Release pipeline"],["",""],["###","star: Released to production"],["",""],["####","electric_plug: API"],["",""],["Admin API scaffold release https","//github.com/cofacts/rumors-api/releases/tag/release%2F20241125"],["- https","//admin-api.cofacts.tw/ with `/ping` now available"],["",""],["###","rocket: Staging"],["",""],["####","globe_with_meridians: Site4"],["",""],["- https","//github.com/cofacts/rumors-site/pull/581 & https://github.com/cofacts/rumors-site/pull/583 belong112"],["",""],["##### Testing checklist",""],["http","//dev.cofacts.tw/"],["",""],["檢查 feedback 是否為",""],["- [x] 有文字的在前面，沒文字的在後面",""],["- [x] 都有文字 or 都沒文字：新的在前面，舊的在後面",""],["",""],["###","eye: Under review"],["",""],["- Badge schema https","//github.com/cofacts/rumors-db/pull/74"],["- blockUser admin API https","//github.com/cofacts/rumors-api/pull/352"],["- Unit test","broken after order switch"],["",""],["## 大松檢討",""],["",""],["> https","//g0v.hackmd.io/@cofacts/meetings/%2FXSpjp40-QEGVAPeTrvxZeQ"],["",""],["## CCPRIP",""],["",""],["### [Op] Automated spam removal",""],["",""],["> Design doc","https://g0v.hackmd.io/@cofacts/rd/%2Fum7DyY_ESbu2LL78kLw3pg"],["",""],["",""],["#### Phase 1","Script execution automation"],["> MrOrz",""],["",""],["https","//github.com/cofacts/rumors-api/pull/352"],["- Still debugging",""],["- 可以穩定重現、每次都死在相同的 test",""],["- PR 之外的 master 不會有此問題",""],["",""],["#### Phase 3","Automated detection"],["> nonumpa",""],["",""],["- gemini usage 要傳到 langfuse 才能算 token",""],["",""],["https","//langfuse.cofacts.tw/project/cm3n1h0xu000mfdgamwhs63t2/traces/0c51f6d8-7146-4a2f-8d3a-3a3d4ae6d5ec?observation=518cc920-4cf4-4240-a30d-22f946c9c463"],["- few shot reason 放在判斷前面，可以把為何是 or 不是的理由交代清楚一些，幫助 LLM 思考（chain of thought）",""],["- 格式：few shot 可以考慮直接使用 user / assistant。user 放 sample input, assistant 放 sample output",""],["- 如果真的不行，考慮放棄 JSON mode 看會不會變好 https","//arxiv.org/abs/2408.02442"],["- 先處理單則 OK",""],["",""],["### [Infra] Downtime",""],["",""],["- 2024/11/24 17","23~18:50 疑似倒站 ![](https://s3-ap-northeast-1.amazonaws.com/g0v-hackmd-images/uploads/upload_e236f0a5cdf5065d4f7e16d654a95fc1.png)"],["- 2024/11/24 17","00 ~ 11/25 14:27 台灣 LINE bot 下線 ![](https://s3-ap-northeast-1.amazonaws.com/g0v-hackmd-images/uploads/upload_8fa43bd45c7b9cf4a11e3fe2b1d00ebd.png)"],["- 2024/11/24 17","00~18:00 CPU & disk IO 很高 ![](https://s3-ap-northeast-1.amazonaws.com/g0v-hackmd-images/uploads/upload_14551a3f290f76a90da425f0bbb53481.png)，應該是 memory ＆ swap 滿了"],["",""],["","::info"],["Record to https","//hackmd.io/@cofacts/incidents"],["","::"],["",""],["### [Infra] DDoS 帳單攻擊預防",""],["",""],["[鬼故事 by ihower](https","//www.facebook.com/share/p/18HpYzXc1Q/)："],["",""],["> 大約半年前，我客戶網站上的一張放在 Google Cloud Storage (台灣 asia-east1 區) 的圖片，被 DDoS 攻擊，持續下載同一張圖片(500MiB/s，每秒 8k requests 來自歐美的七個 IP 位址) 持續了兩天。雖然發現後立即加上 Cloudflare 防火牆 (還是免費版即可，早知道就..... 哎) 就擋住了，但仍造成了約 USD 11,000 的鉅額 GCP 帳單，而這平常一個月的流量只需要 USD 15 元。",""],[">",""],["> 後續透過代理商 i 社多次和 GCP 爭取退款或流量費減免，在經歷長達半年的焦慮等待，包括無數次的客服聯繫、反覆確認攻擊細節、通知X部門審查、確認我身份、申請至Y部門、再等待Z部門確認、被拒絕後重送工單 N 次(感謝代理商持續跟進)。最終 Google Cloud Billing Support 的回覆仍是申請失敗，僅爭取到 Google 業務給予的 USD 2000 補助 credits。",""],["",""],["Lessons learned by iHower","https://www.facebook.com/ihower/posts/pfbid02NSGjkquioV7TEq5GpTCRnK9uT38NDTqEgzT31x2w8hmTgF5GLZFKWXy3zPzT66sBl"],["",""],["- ✅ 設定帳單提醒",""],["- [在 GCS bucket 前擋 Cloudflare](https","//stackoverflow.com/a/35895422/1582110)：好像要[設定 load balancer](https://cloud.google.com/load-balancing/docs/https) 或把[整個 bucket 改名字](https://cloud.google.com/storage/docs/hosting-static-website-http)才能綁網域"],["- 直接把 GCS 的網址對外，即使是 signed URL 也是可能被攻擊",""]]}}