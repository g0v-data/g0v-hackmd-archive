---
tags: cofacts, meeting note
GA: UA-98468513-3
---

# 20200708 æœƒè­°è¨˜éŒ„

:::info
- [æ‰€æœ‰æœƒè­°è¨˜éŒ„](https://g0v.hackmd.io/@mrorz/cofacts-meeting-notes/)
- å‡ºå¸­ï¼šbil, mrorz, æ–‡æ­¦, zoe
:::

## Cofacts Next! è¿½è¹¤

- [æ”¶å°¾] Category æ¨™è¨˜
    - Owner: GGM
    - production å•Ÿå‹•è‡ªå‹•æ¨™è¨˜æ™‚ç¨‹ï¼Ÿ
        - éš¨ä¾¿ (?)
    - production é–‹æ”¾äººå·¥æ¨™è¨˜æ™‚ç¨‹ï¼Ÿ
        - Description æ¸…æ¥šå—
        - UI ç›®å‰ç›´è¦ºå—
        - æ¯å€‹éƒ½çµ¦äººæ¨™å—
        :::success
        å¤§æ¾çš„æ™‚å€™æš«æ™‚é–‹èµ·ä¾†ï¼Œæ”¶ feedback
        å¤§æ¾ä¹‹å‰ä¸è¦é–‹
        :::
    - é–‹æ”¾äººå·¥æ¨™è¨˜ä¹‹å¾Œï¼Œå†è§€å¯Ÿæ¨™è¨˜å“è³ªï¼Œæ±ºå®šæ˜¯å¦èƒ½ç”¨ä¾†é‡ train model
    - æ–°æ¨™ç±¤
        - çµ¦æ¸¬è³‡çš„æ–¹å¼
            :::warning
            @ggm, @darkbtf, @pai: Need input
            :::
        - å¦‚ä½•ç®—æ˜¯æ–°æ¨™ç±¤
            - æœ‰æ„ç¾©ä½†åŸæœ¬æ²’åœ°æ–¹æ”¾
            - æœ‰åœ°æ–¹æ”¾ä½†å¤ªå»£ã€å¤ªæ»¿
                - é€šé€šå¡åœ¨ä¿å¥ or æ”¿æ²»
        - æ–°æ¨™ç±¤ææ¡ˆ
            - `COVID-19 ç–«æƒ…`
                - X æŒ¯èˆˆä¸‰å€åˆ¸è©é¨™
                    - é›–ç„¶æ˜¯ COVID-19 é–“æ¥é€ æˆï¼Œä½†èˆ‡ç–¾ç—…æœ¬èº«ç„¡é—œ
                - V æ–°å† è‚ºç‚ç–«è‹—ç¬¬ä¸€é‡æ‰“åœ¨è§£æ”¾è»ä¸Š
                    - ä¹Ÿå¯ä»¥ç®—ä¸­åœ‹å½±éŸ¿åŠ›
                - V è¥¿é†« N äººè£¡é¢ M äººæ­»äº¡ï¼Œä¸­é†«å…¨æ•¸åº·å¾©
                    - ä¹Ÿå¯ä»¥ç®—ä¸­åœ‹å½±éŸ¿åŠ›
                - ? é˜²ç–«æ¦‚å¿µè‚¡ä¸Šæ¼² / æ‹‰å›æ•´ç†çš„æ–°è
                    - åœ¨é‚Šç•Œä¸Šâ‹¯â‹¯
            - `åœ‹éš›é—œä¿‚`ï¼šWTOã€IMFã€OECD ç­‰ç­‰çš„è³‡è¨Š
                - X å¨å°¼æ–¯å› ç‚ºç–«æƒ…æ‰€ä»¥æœ‰é±·é­š
                    - ç’°å¢ƒä¿è­·ï¼Ÿã€COVID-19
                - V è‹±åœ‹é€€å‡ºæ­ç›Ÿ
                - V ç¾åœ‹è»éšŠåƒåŠ é‹å‹•æœƒæŠŠç—…æ¯’å¸¶åˆ°æ­¦æ¼¢
                - X? åˆ—å‡ºå„åœ‹çš„æª¢é©—æ•¸å­—ï¼Œè¡¨ç¤ºå°ç£ç¯©æª¢å¤ªå°‘çš„ç¤¾è«–
                    - å¯ä»¥æ”¾åœ¨æ”¿æ²»ã€COVID-19
                - V æ­ç›Ÿå…è¨±ä½¿ç”¨è¯ç‚ºçš„ 5G åŸºç¤å»ºè¨­
                - V ä¸­åœ‹åœ¨ç¾åœ‹çš„å­”å­å­¸é™¢å¦‚ä½•å¦‚ä½•
                    - æ¯”é„°è¦ºå¾—ä¸è¦æ”¾åœ¨ä¸­åœ‹å½±éŸ¿åŠ›
                - V ä¸€å¸¶ä¸€è·¯å¾ˆæ£’
                    - ï¼ˆæ”¿æ²»ï¼‰ã€ä¸­åœ‹å½±éŸ¿åŠ›
                - V  WTO è¡¨ç¤º OOOO
                - V è­šå¾·è³½èªªå°ç£äººç¨®æ—æ­§è¦–
                - X ç¾åœ‹è¯æº–æœƒå®£å¸ƒé™æ¯å…©ç¢¼
                - X ä¸‰å³½å¤§å£©å³å°‡æ½°å ¤
                    - è¾²æ—æ¼ç‰§æ”¿ç­–ï¼ˆå¤©ç½äººç¦ï¼‰

- [æ”¶å°¾]  Chatbot notification
    - Owner:
        - MrOrz: GA é‚„åœ¨åš
        > notification URL è¦æ€éº¼è¨­è¨ˆä»éœ€æ¸¬è©¦
        > ä½†åªæœƒå½±éŸ¿åˆ° notification URL æœ¬é«”
        - GGM & æ–‡æ­¦ï¼šsee PR review
        > æ–‡æ­¦
        > cron job é€ analytics æ™‚ userid æ€éº¼è™•ç†ï¼Ÿä¸çµ¦çš„è©±å¥½åƒæœƒè‡ªå·±è“‹ä¸€å€‹æ–°çš„
        > çµè«–ï¼šæ”¾å€‹ "cron" ä¹‹é¡çš„
    - æ™‚ç¨‹ï¼Ÿ
        - GA: 7/13
        - Cron: å·®ä¸å¤šæƒ¹
    - ä¸Šç·šå¾Œç´¯ç© userArticleLink + backtrackï¼Œä½†å…ˆä¸è¨­ cron job
    - cron job å•Ÿå‹•ï¼š8 æœˆï¼Ÿï¼ˆè·Ÿ RSS ä¸€èµ·ï¼Ÿï¼‰ 

- Article analytics from GA
    - Owner: Zoe
    - Spec: https://g0v.hackmd.io/0kjaVlFASSyddkltqGR6Nw?view
    - Plan: 8/10 for API, 9/7 for UI
    - Authentication issue
        - https://github.com/googleapis/google-api-nodejs-client#request-options
        - `scopes: ['https://www.googleapis.com/auth/analytics.readonly']`
        - ![](https://s3-ap-northeast-1.amazonaws.com/g0v-hackmd-images/uploads/upload_3fdd11492d18032622cb29a817898bfb.png)
        :::success
        ç…§è‘— https://ga-dev-tools.appspot.com/embed-api/server-side-authorization/ èªªçš„ï¼Œé–‹äº† service account ä¸¦ä¸”æŠŠ service account åŠ é€² Cofacts çš„ google analytics å¸³æˆ¶
        :::

- `ArticlePageLayout` refactor
    - Owner: MrOrz
    - Spec: https://g0v.hackmd.io/h8rP0TOGTh2Clxi_Oi_QKw
    - Plan
      - 1st PR å·²ç™¼ [#267](https://github.com/cofacts/rumors-site/pull/267) , [#268](https://github.com/cofacts/rumors-site/pull/268) **æ±‚ review**
      - 2nd PR: 7/13
      - 3rd PR: 7/20

- User ID refactor
    - Owner: MrOrz
    - Spec: https://g0v.hackmd.io/ZcoUOX_-RQSkJyl5xz4_Zg?view#%E6%96%B9%E5%90%91-2-%E9%87%9D%E5%B0%8D%E6%AF%8F%E5%80%8B-backend-user-%E9%83%BD%E7%94%A2%E7%94%9F%E4%B8%80%E5%80%8B-user-document
    - Plan: GG

- æ•™å­¸é  spec
    - owner: Lucien

## Cofacts Next! æœªç«Ÿäº‹é …

:::info
ç›¸é—œè³‡æ–™
- [6/24 æ•´ç†ä¹‹é€²åº¦ã€enhancement itemã€Bug found](https://g0v.hackmd.io/@mrorz/cofacts-meeting-notes/%2FW16H4cLoSQ66SPQNYpmvRQ)
- [Cofacts UI å¾®èª¿ from è¨­è¨ˆå¸«](https://docs.google.com/presentation/d/18VnEBMr9m-t81ppRwHcjbA1keltg-CIn7wUF9pu1oLo/edit)
- [Github Project TODO](https://github.com/orgs/cofacts/projects/5)
:::

ç›¤é»å°šæœªé–‹ç¥¨ã€å°šæœª assign çµ¦äººçš„æœªç«Ÿäº‹é …ï¼Œç¢ºèªä¹‹å¾Œåœ¨ "Put issue in" çš„åœ°æ–¹é–‹ç¥¨ã€‚

å¾…è¨è«–ï¼š1. repo æ˜¯å¦æ­£ç¢º 2. æ˜¯å¦è¦æ¨™è¨˜ good-first-issue (çµ¦ç¤¾ç¾¤åš)

- Landing page (1w)
    - Put issue in: rumors-site
    - https://www.figma.com/file/zpD45j8nqDB2XfA6m2QskO/Cofacts-website?node-id=994%3A112

- Reply detail page (1w)
    - Put issue in: rumors-site
    - Extract common components (such as card with title) to storybook
    - figma https://www.figma.com/file/zpD45j8nqDB2XfA6m2QskO/Cofacts-website?node-id=894%3A0

- Website profile page (2.5w)
    - Put issue in: API + rumors-site
    - Spec https://g0v.hackmd.io/@NFi0czulSemxCM8RNSlz8Q/HJ8xT3QVU/%2FbbreV0ZqRDarHl4Zt5UpEw
    - figma: https://www.figma.com/file/zpD45j8nqDB2XfA6m2QskO/Cofacts-website?node-id=912%3A384

- Fold hyperlinks in detail pages
    - Put issue in: rumors-site (Good first issue)
    - Spec: https://docs.google.com/presentation/d/18VnEBMr9m-t81ppRwHcjbA1keltg-CIn7wUF9pu1oLo/edit#slide=id.g88d85857df_0_24 ï¼ˆæœ€å³é‚Šçš„ C æ–¹æ¡ˆï¼‰
    - Ticket: https://github.com/cofacts/rumors-site/issues/274


- Editor dialog adjustmentsï¼ˆæ¯å€‹ point ä¸€å¼µç¥¨ï¼‰
    - Put issue in: rumors-site
    - Markdown-like UX for list items in Cofacts editor
        - æŒ‰æŒ‰éˆ•èˆ‡ enter æ™‚åˆ¤æ–·æ˜¯å¦æ’å…¥ `-` or `N.`
        - ç¨ç«‹ä¸€å¼µç¥¨: https://github.com/cofacts/rumors-site/issues/276
    - Block not logged in user from mobile (ç¾åœ¨èª¤è§¸ä¹‹å¾Œç„¡æ³• back) https://github.com/cofacts/rumors-site/issues/277
    - Hint mobile user to fill in references ![](https://s3-ap-northeast-1.amazonaws.com/g0v-hackmd-images/uploads/upload_da91bb7b5b9b2ef05b6ccde4a5a8be27.png) ([Figma](https://www.figma.com/file/zpD45j8nqDB2XfA6m2QskO/Cofacts-website?node-id=1302%3A18)) https://github.com/cofacts/rumors-site/issues/278
    - è™•ç† Android ä¸Šéµç›¤è“‹ä½ UI å•é¡Œ https://drive.google.com/file/d/1aET09JJ_AxgFkRUDLYqR2CV3L4AAkagB/view?usp=sharing https://github.com/cofacts/rumors-site/issues/279
    - Font adjustment in [UI å¾®èª¿](https://docs.google.com/presentation/d/18VnEBMr9m-t81ppRwHcjbA1keltg-CIn7wUF9pu1oLo/edit#slide=id.p) p8 https://github.com/cofacts/rumors-site/issues/282
    - è¨è«–ï¼šæœå°‹å›æ‡‰åŠŸèƒ½é¡¯ç¤ºã€Œè‡ªå·±å‰›å›éã€çš„å›æ‡‰
        - Issue: https://github.com/cofacts/rumors-site/issues/243
        - 3 æœˆè¨±çš„é¡˜: https://g0v-slack-archive.g0v.ronny.tw/index/channel/C2PPMRQGP/2020-03#ts-1584415185.236800
        - æ˜¯å¦è¦åœ¨æ²’æœå°‹çš„æ™‚å€™é¡¯ç¤ºæœ€æ–°å¹¾ç¯‡è‡ªå·±çš„å›æ‡‰ï¼Ÿ

- Category dialog adjustments
    - Put issue in: rumors-site
    - Vote count when anyone voted ![](https://s3-ap-northeast-1.amazonaws.com/g0v-hackmd-images/uploads/upload_45ab07f9718b5ac2e918e03a0de07ccf.png =200x)
    :::warning
    ç­‰å¤§æ¾å¤§å®¶çš„æ¸¬è©¦
    :::

- Avatar related adjustments
    - Put issue in: rumors-site
    - Spec: [UI å¾®èª¿](https://docs.google.com/presentation/d/18VnEBMr9m-t81ppRwHcjbA1keltg-CIn7wUF9pu1oLo/edit#slide=id.p) p1, p5
    - Add icon & level
    - https://github.com/cofacts/rumors-site/issues/283

- List page related adjustments
    - å·²è®€åŠŸèƒ½
        - visited or localstorage
    - æ‰‹æ©Ÿç‰ˆç™»å‡ºğŸˆšï¸ä½œç”¨: https://github.com/cofacts/rumors-site/issues/284

## :potable_water: Release pipeline

### :star: Released to production

#### Website ([20200703 Release](https://github.com/cofacts/rumors-site/releases/tag/release%2F20200703))
- Category dialog fix
- Editor UI

æœå°‹é»æ“Šå¾Œ reference å¥½åƒåˆå£äº† ![](https://s3-ap-northeast-1.amazonaws.com/g0v-hackmd-images/uploads/upload_5ce7ef7711d47d8a976238ef85e1cced.png)

> å·²é–‹ç¥¨ï¼šhttps://github.com/cofacts/rumors-site/issues/285

### :rocket: Staging

åŒä¸Šé€± LINE bot é …ç›®ã€‚
ä¸Šé€±æ²’ä¸Šçš„ç¶²ç«™ï¼Œå·²ç¶“åœ¨ 7/3 releaseã€‚

#### Website
https://github.com/cofacts/rumors-site/compare/master...dev

Fix category add / delete

å¯ä»¥å…ˆæ”¾è‘—

#### LINE bot

https://github.com/cofacts/rumors-line-bot/compare/master...dev

##### Features
- [#185 User setting LIFF](https://github.com/cofacts/rumors-line-bot/pull/185)
- [#197 Loads user article link](https://github.com/cofacts/rumors-line-bot/pull/197)
- [#198 Lists user article link and data from Cofacts API](https://github.com/cofacts/rumors-line-bot/pull/198)
- [#199 Styling user article link LIFF](https://github.com/cofacts/rumors-line-bot/pull/199)
- [#200 Handle clicking user article link](https://github.com/cofacts/rumors-line-bot/pull/200)
  - This changes handler, needs test
- [#203 user article link pagination](https://github.com/cofacts/rumors-line-bot/pull/203)

##### Refactor item
- [#194 LIFF auth check relaxed](https://github.com/cofacts/rumors-line-bot/pull/194)
- [#195 Svelte eslint](https://github.com/cofacts/rumors-line-bot/pull/195)
- [#196 unit test for svelte](https://github.com/cofacts/rumors-line-bot/pull/196)

##### Testing checklist

Staging chatbot: https://lin.ee/1QUzEX4nI
å°‹æ‰¾æ¸¬è©¦ç”¨èˆŠè¨Šæ¯ï¼š https://dev.cofacts.org/articles

- [x] æ‡‰å¯é€å‡ºã€Œå…¨æ–°è¨Šæ¯ã€
    - [x] å•è¨Šæ¯ä¾†æºæ™‚é¸æ“‡ã€Œæˆ‘è‡ªå·±æ‰“çš„ã€æˆ–ã€ŒLINE å¤–é¢çœ‹åˆ°çš„ã€ï¼Œæ‡‰è©²æœƒè¢«æ“‹ä¸‹ã€‚
    - [x] æä¾›æ­£ç¢ºè¨Šæ¯ä¾†æºå¾Œè·³åˆ°ç†ç”±é é¢ï¼Œé—œæ‰ç†ç”±è¦–çª—ï¼Œè¨Šæ¯æ‡‰è©²é‚„æ˜¯æœ‰è¢«é€å‡ºã€‚
    - [x] å¯å¾èŠå¤©è¦–çª—å…§æ‰“é–‹ç†ç”±è¦–çª—ï¼Œç¹¼çºŒå¡«å¯«ç†ç”±é€å‡ºã€‚æŸ¥çœ‹ article page çœ‹ç†ç”±æ˜¯å¦æœ‰è¢«é€å‡ºã€‚
    - [x] å¯ä»¥ä¿®æ”¹ç†ç”±é€å‡ºã€‚æŸ¥çœ‹ article page çœ‹ç†ç”±æ˜¯å¦æœ‰è¢«é€å‡ºã€‚
    - [ ] ã€Œåˆ†äº«åˆ° Facebookã€ã€ã€Œåˆ†äº«åˆ° LINEã€å¯ä»¥æ­£å¸¸é‹ä½œ
        - ã€Œåˆ†äº«åˆ° Facebookã€ æœ‰éŒ¯å­—

- [x] é€å‡ºã€Œæ²’å›æ‡‰ã€çš„èˆŠè¨Šæ¯ï¼Œæ‡‰å¯é€å‡ºæ–°ç†ç”±
    - [x] è·³å‡ºä¾†æºè¦–çª—å¾Œé—œé–‰ï¼Œæ–‡ç« çš„ã€ŒN äººå›å ±ã€æ‡‰è©²ä»ç„¶è¦ + 1ï¼ˆé™¤éæ¸¬è©¦è€…å·²ç¶“é‡å°è©²ç¯‡é€é reply requestï¼‰ã€‚
    - [x] æä¾›æ­£ç¢ºè¨Šæ¯ä¾†æºå¾Œè·³åˆ°ç†ç”±é é¢ï¼Œé—œæ‰ç†ç”±è¦–çª—ï¼Œå¯ä»¥çœ‹åˆ°å†æ‰“é–‹çš„é¸é …
    - [x] å¯å¾èŠå¤©è¦–çª—å…§æ‰“é–‹ç†ç”±è¦–çª—ï¼Œç¹¼çºŒå¡«å¯«ç†ç”±é€å‡ºã€‚æŸ¥çœ‹ article page çœ‹ç†ç”±æ˜¯å¦æœ‰è¢«é€å‡ºã€‚
    - [x] å¯ä»¥ä¿®æ”¹ç†ç”±é€å‡ºã€‚æŸ¥çœ‹ article page çœ‹ç†ç”±æ˜¯å¦æœ‰è¢«é€å‡ºã€‚

- [x] é€å‡ºã€Œæœ‰å›æ‡‰ã€çš„èˆŠè¨Šæ¯ï¼Œæ‡‰è‡ªå‹•å›å‚³å›æ‡‰
    - [x] æ‡‰åˆ—å‡ºè¨Šæ¯æ‰€æœ‰çš„å›æ‡‰
    - [ ] é¸æ“‡å›æ‡‰ä¹‹å¾Œå¯ä»¥å¹«å›æ‡‰ upvote
        - MrOrz: vote count æœ‰æ›´æ–°ï¼Œä½†ç·¨è¼¯ upvote ç†ç”±ä¹‹å¾Œï¼Œåœ¨ç¶²ç«™ä¸Š see reasons çœ‹ä¸åˆ° https://cofacts.hacktabl.org/article/AVyt453vyCdS-nWhuagx
    - [ ] å¯ä»¥å†æ¬¡é¸æ“‡ downvote
        - MrOrz: å¯ä»¥ upvote æ› downvoteï¼ˆvote count æœ‰æ›´æ–°ï¼‰ï¼Œä½† downvote ç†ç”±åœ¨ç¶²ç«™ä¸Š see reasons çœ‹ä¸åˆ°
        - æœªç¿»è­¯å¥å­ã€ŒIf you have a better reply, feel free to submit it to ...ã€ 
    - [x] é¸å®Œå›æ‡‰ä¹‹å¾Œï¼Œé‚„å¯ä»¥æ²å›å»é¸å…¶ä»–å›æ‡‰

- [x] é€å‡ºè·ŸèˆŠè¨Šæ¯ç›¸ä¼¼çš„è¨Šæ¯ï¼Œæ‡‰æä¾›é¸é …é¸æ“‡æœ€åƒçš„è¨Šæ¯
    - [x] æŒ‰ä¸‹ä»»ä¸€è¨Šæ¯æ‡‰è©²æœƒåˆ—å‡ºå›æ‡‰
    - [x] é¸äº†ä¸€å€‹è¨Šæ¯ä¹‹å¾Œï¼Œé‚„å¯ä»¥æ²å›å»æŒ‰å…¶ä»–è¨Šæ¯
    - [x] æ²å›å»æŒ‰ä¸‹ã€Œé€™è£¡éƒ½æ²’æœ‰æˆ‘è¦çš„ã€æ‡‰è©²è¦è·³å‡ºè©¢å•ä¾†æºè¦–çª— (é¸é …ä¸­ä¸èƒ½æœ‰ 100% ç›¸ä¼¼çš„ï¼Œå¦å‰‡æœƒæ‰¾ä¸åˆ°æŒ‰éˆ•)

- [ ] Rich menu æ¸¬è©¦
    - [ ] ã€Œè¨­å®šæ¨æ’­åŠŸèƒ½ã€æ›´æ”¹å¾Œå†æ¬¡æ‰“é–‹ï¼Œæ‡‰è©²æœƒä¿ç•™åŸæœ¬è¨­å®š
    - [ ] ã€ŒæŸ¥éçš„è¨Šæ¯ã€æ‡‰è©²è¦åˆ—å‡ºä¹‹å‰æŸ¥éçš„è¨Šæ¯

##### â›”ï¸ Release Blockers

- [x] ã€Œåˆ†äº«åˆ° Facebookã€ æœ‰éŒ¯å­—
- [x] æœªç¿»è­¯å¥å­ã€ŒIf you have a better reply, feel free to submit it to ...ã€

> All fixed in https://github.com/cofacts/rumors-line-bot/pull/208

##### æœªç«Ÿé …ç›®

> Not release blocker, é–‹ç¥¨è¿½è¹¤

- æ‰‹æ©Ÿç‰ˆçš„ upvote / downvote ç†ç”±çœ‹ä¸åˆ°
    - API å¯ä»¥æ‹¿å¾—åˆ° ![](https://s3-ap-northeast-1.amazonaws.com/g0v-hackmd-images/uploads/upload_83c66d9e23053c607598b9d815a98e46.png =x200)
    - ç¶²ç«™ bugï¼Œå¦å¤–é–‹ç¥¨ https://github.com/cofacts/rumors-site/issues/291

- Rich menu å£çš„
    - å¥½åƒæ˜¯æ²’æœ‰è¨­å¥½ env
    - ç›®å‰ä¸æœƒé¡¯ç¤º rich menu æ‰€ä»¥ä¸æ˜¯ blockerï¼Œ release article list æ™‚å†è™•ç†

### :eye: Under review

- [DB] Add `analytics` index https://github.com/cofacts/rumors-db/pull/44
    - Owner: Zoe
    - Merged~
- [Chatbot] cron https://github.com/cofacts/rumors-line-bot/pull/207
    - Owner: æ–Œç¶¸
    - Review comment from MrOrz: å¸Œæœ› change to batch
- [Chatbot] Insert https://github.com/cofacts/rumors-line-bot/pull/201
    - Owner: GGM
    - Discussion: https://g0v-tw.slack.com/archives/C2PPMRQGP/p1593850412237300 [(archive)](https://g0v-slack-archive.g0v.ronny.tw/index/channel/C2PPMRQGP#ts-1593850412.2373)
        - always write `lastViewedAt`
        - restructure `UserArticleLink` API
            > ä½¿ç”¨ create çš„è©±ï¼Œä½ æ˜¯åœ¨èªªé€™æ®µå—ï¼Ÿ
            > https://github.com/cofacts/rumors-line-bot/blob/a3cda30eb414100405b1c3fd9e492308ddff8d34/src/webhook/handlers/askingArticleSubmissionConsent.js#L58
            > æˆ‘è¦ºå¾—é€™æ®µç”¨ create æ²’ä»€éº¼å•é¡Œå‘€ï¼Œä½¿ç”¨è€…å‰µå»ºçš„æ–°æ–‡ç«  CreateArticle.id ä¸€å®šæœƒæ˜¯æ–°çš„ä¸æœƒé‡è¤‡çš„ï¼Œä¸€å®šæœƒç”¢ç”Ÿå‡ºä¸€ç­† UserArticleLink æ‰€ä»¥ç”¨ create å¾ˆåˆç†å§ï¼Ÿ
            > ä½ æ˜¯æƒ³æŠŠé€™æ®µæ›æˆ upsertByUserIdAndArticleId å—ï¼Ÿé€™æ¨£é›–ç„¶æ˜¯å¯ä»¥ï¼Œä½†æ˜¯æ„åœ–æœƒæœ‰é»å¥‡æ€ªæœƒæ··æ·†å§ï¼Œupsert çš„ç”¨æ„é‚„æ˜¯ä»¥ update ç‚ºä¸»ï¼Œä½ æƒ³è¦ç”¨ä¾†å…¨é¢å–ä»£ create å—ï¼Ÿ
            > [name=ggm]
            > å°
            > å¦‚æœã€Œæ‰€æœ‰ user article link ä¸€å®šæœƒå¯«å…¥ lastViewedAt ã€é‚£å°±ä»£è¡¨ create è·Ÿ upsert çš„ insert part åšçš„äº‹æƒ…å¹¾ä¹å¿«ä¸€æ¨£äº†ã€‚
            > è‡³æ–¼ upsert çš„èªæ„å•é¡Œ
            > é€™å°±æ˜¯ç‚ºä»€éº¼æˆ‘ rumors-api é¡ä¼¼çš„ mutation API æœƒä½¿ç”¨ â€œCreateOrUpdateâ€ åš API é–‹é ­ï¼Œè€Œä¸æ˜¯ç”¨æ¯”è¼ƒå¸¸è¦‹ä½†ç¢ºå¯¦æ¯”è¼ƒçœ‹é‡ update çš„ upsert XD
            > [name=mrorz]
            > 
## å¤§æ¾

:::warning
- 7/25 (å…­) @ ä¸­ç ”é™¢
- å ±åå¿«æ»¿å•¦ï¼šhttps://g0v-jothon.kktix.cc/events/g0v-hackath40n
:::

æ–‡æ­¦ä¸æœƒå»

æ“”ä»»ä¸»æŒäººï¼Œè¦æº–å‚™é–‹å ´æŠ•å½±ç‰‡

å·¥ä½œå…§å®¹ï¼šhttps://g0v.hackmd.io/@M3bjBcTXQ5i3BKGkYmRMiA/ryo6ijBGH

## New analytics

### Auto update from LINE
![](https://s3-ap-northeast-1.amazonaws.com/g0v-hackmd-images/uploads/upload_14fe7b1b22e7128094d579199145115a.png =50%x)

- App script --> [spreadsheet](https://docs.google.com/spreadsheets/d/1h9YAmi5i_dpYGYG5xUBBiW2Q_W0-ylJocb-MKY2nffc/edit) --> [analytics](https://datastudio.google.com/u/0/reporting/18J8jZYumsoaCPBk9bdRd97GKvi_W5v-r/page/Cy2P)
- LINE OA Statistics: daily update
- LINE OA Demographic report: weekly
    - å¹´ç´€åˆ†ä½ˆç„¡æ³•åˆ†æ€§åˆ¥ï¼Œ[API æ²’æœ‰åˆ†å¹´é½¡çš„æ€§åˆ¥è³‡è¨Š](https://developers.line.biz/en/reference/messaging-api/#get-demographic)


### [Open data explorer](https://datastudio.google.com/reporting/67b411c1-687c-4b0f-9ec6-d8d961c18ebf/page/cgwWB)
![](https://s3-ap-northeast-1.amazonaws.com/g0v-hackmd-images/uploads/upload_6e3ce0c16e4411c3d0103924bc99d649.png =50%x)


- å…ä¸‹è¼‰ç€è¦½ open data!
- Join data å¾Œå‘ˆç¾åœ¨ table è£¡
    - ä½¿ç”¨ [data blending](https://support.google.com/datastudio/answer/9061420?hl=en)ï¼ŒåŸç†æ˜¯ left outer join
- æä¾›ç°¡æ˜“ filter èˆ‡ count
    - å¯ä»¥æ‰¾å‡ºã€Œè¢«æ¨™äº†ç‰¹å®š category çš„ article çš„ reply count ç¸½å’Œã€ä¹‹é¡çš„è³‡è¨Š
    - å•é¡Œï¼šblended data è¦æ±‚æ‰€æœ‰ join data è¦ä½¿ç”¨ç›¸åŒçš„ keyï¼Œæ‰€ä»¥åšä¸åˆ° article --(article id)-- article reply --(reply id) -- reply é€™ç¨® join
