---
title: "零時組字"
tags: hackpad
---

# 零時組字

> [點此觀看原始內容](https://g0v.hackpad.tw/xRh84200Jl8)


組字最早的構想，就是輸入 IDS (或其他部件和組合方式的表達式)，得到一個字形。

例如：⿱宀⿱珤⿴辶⿰隹⿰財召 ，可得到「招財進寶」合文。
主要有兩個難點，一是要為每個部件計算適當的框，二是挑選合適的異體部件。例如：「木」有好幾種變形，木字旁必須化捺為點，「李」的木豎筆要縮短，這都是無法用矩形拉長或壓扁來呈現，必須用異體部件，但由於Unicode 本身的設計，除了極少數如「钅釒金」，大多數異體部件並沒有碼。glyphwiki 為了字形美觀，常用部件做了非常多的異體部件，並賦於唯一的代碼，稱為glyphid，但使用者不可能記得住這些glyphid。

這裡提出一個機制，稱為Ideograph on demand sequence ，讓使用者可以用簡便的方式，解決合適部件選取以及算框的困難。

base glyph: 2912B,  (雨->(寶-貝)) (缶->(⿲隹財召))   // hackpad 無法輸入extension B?
CJK 字集部件有些問題，導致有些字無法檢索
1.  有些CJK的字形部件以編碼標示，並未匯入json檔，z0y無法檢索全部有此部件的中文字。例如「土」。
2.  X與⿻的歸類原則不明，這些字或部件可能無法正確檢索或組合。以下兩個例子來自IDS-UCS-Basic:
```
example 1. 都有相同部件「从」，歸類不同
    U+5750  坐       ⿻土从
    U+593E  夾       X
example 2. 都是⿰，歸類標記不一致
    U+70C2  烂       ⿻火兰
    U+70C5  烅       ⿰火血
```
3.無筆順規則。這是中文組字的關鍵，雖然大部分部件排列順序符合筆順，只是筆順與結構順序相符。例如
```
U+51F0  凰       ⿵⺇皇(符合筆順)
U+51F6  凶       ⿶凵㐅(與筆順相反)
```
先取一個base glyph, [U+2912B](https://codepoints.net/U+2912B) 將裡頭的「雨」替換為「寶去掉貝」。
然後將「缶」替換為「隹財召」橫連。

這樣組字系統從base glyph 取得了新字的基本布局，將個別部件替換為其他即可。

當然IODS 不是唯一，使用者可以自由創造不同的 IODS ，以取得最滿意的視覺效果。例如「機-幾+寳」會比「村-寸+寳」均稱，但使用者也可以刻意放大或縮小某個部份。

在伺服器端，只要以IDS為key，可以容納不同的 IODS。

討論：
IODS 用什麼語法？
組字的UI
是否允許指定部件的顏色？


