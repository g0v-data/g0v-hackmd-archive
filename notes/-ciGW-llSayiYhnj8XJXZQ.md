# SystemVerilog

**目錄：**
1. [資料型態與結構](#1-資料型態與-結構)  
2. [程序區塊與時序控制](#2-程序區塊與-時序控制)  
3. [隨機化與約束](#3-隨機化與-約束)  
4. [斷言與形式驗證](#4-斷言與-形式驗證)  
5. [進階驗證技術](#5-進階驗證技術)  
6. [功能覆蓋](#6-功能覆蓋)

---

## 1. 資料型態與結構

**目的：**  
掌握 SystemVerilog 的各類資料型態，從基本數據型態到複合結構與各類陣列的定義、使用及注意事項。

### 1.1 資料型態分類

- **Net 型態**  
  - **用途：** 描述模組間連線，允許多重驅動 (如 `wire`、`tri`、`uwire`)。  
  - **說明：** 自動處理延遲與驅動衝突，適用於模組間信號連接。

- **變數型態**  
  - **用途：** 儲存資料或中間運算結果，只允許單一驅動。  
  - **分類：**  
    - **基本型態** (例如 `logic`、`bit`、`int`、`real` 等)  
    - **複合型態** (例如 `struct`、`union`、`enum` 以及各類陣列)

---

### 1.2 基本數據型態

#### 位元與向量

| 型態      | 狀態類型 | 特點與用途                                                 | 示例                            |
|-----------|----------|------------------------------------------------------------|---------------------------------|
| **logic** | 四狀態   | 可取 0、1、x (未知)、z (高阻)；常用於替代舊式 reg。            | `logic [7:0] data;`             |
| **bit**   | 兩狀態   | 僅支持 0 與 1；模擬效率較高，適用於純數據運算與演算法。          | `bit [7:0] flag;`               |

#### 整數與數值

| 型態        | 位元數 | 狀態類型 | 說明與用途                                  | 備註           |
|-------------|--------|----------|---------------------------------------------|----------------|
| **int**     | 32位   | 2-state  | 標準整數，適合一般計算與迴圈計數。              | 首選           |
| **shortint**| 16位   | 2-state  | 適用於較小數值範圍，節省資源。                 |                |
| **longint** | 64位   | 2-state  | 適用於需要大數值表示的場合。                  |                |
| **byte**    | 8位    | 2-state  | 常用於資料封裝與位元操作。                   |                |
| **integer** | 32位   | 2-state  | 舊式用法，與 int 類似。                       |                |
| **time**    | 64位   | 2-state  | 用於模擬中表示時間，常用於延遲與事件序列計算。   |                |

#### 實數型態

| 型態         | 精度          | 說明                                    | 用途說明         |
|--------------|---------------|-----------------------------------------|------------------|
| **real**     | 雙精度 (64位) | 用於浮點運算，適合高精度模擬（通常不合成）。 | 精確計算         |
| **shortreal**| 單精度 (32位) | 效能較高但精度較低，適用於低精度快速運算。   | 快速模擬         |

---

### 1.3 複合型態

#### 結構 (struct)
- **用途：**  
  將多種不同型態數據組合在一起，便於封裝與傳遞。  
- **示例：**
  ```systemverilog
  typedef struct {
      logic [7:0] opcode;
      int         addr;
      logic [15:0] data;
  } instr_t;
  
#### 聯合 (union)
- **用途：**  
  多成員共享同一記憶體區，適用於資料格式互斥。  
- **示例：**
  ```systemverilog
  typedef union {
      int  i;
      real r;
  } num_union;
    
#### 列舉 (enum)
- **用途：**  
  定義具語意的常數集合，常用於狀態機設計。  
- **示例：**
  ```systemverilog
  typedef enum {IDLE, READ, WRITE, ERROR} state_t;

---

### 1.4 陣列型態