{"MUQeWpnyTgmcQ3bxDH5KZg":{"content":"draft @ 2019/4/10\n\n* 人相關\n    * 人\n        * User\n            * int uid 流水號 ID\n            * varchar(32) username 英文 ID\n            * varchar(32) display_name 顯示名稱\n        * UserAssociate\n            * int associate_id 流水號 ID\n            * int uid 連結到的 User->uid\n            * varchar(128) openid identify\n    * 提案者\n    * 追問人\n    * 評審\n    * 內容管理者\n* 提案相關\n    * 獎助金屆次\n    * 提案\n    * 提問\n* 評選相關\n    * \n* 網站相關\n    * 公告\n    * 說明\n    * 贊助商\n\n舊版...","tags":[["# grantdash 2.0 model 規劃",""],["",""],["* [功能討論](https","//g0v.hackmd.io/Zoy-NCQ9Q1G_KGiGYH4dUA)"],["",""],["## 概觀",""],["",""],["Grantdash 可切分成數個子系統：",""],["* 核心系統",""],["* 用戶、用戶群組 ( 包含提案人、追問人、管理員等 )",""],["* 提案系統",""],["* 系統管理機制",""],["* 可線上操作的後台、控制提案時程、管理帳號與提案等",""],["* 評論系統",""],["* 類似 Disqus 可於任何頁面置入評論",""],["* 評論管理後台",""],["* 評審",""],["* 針對提案評分，另有排名機制",""],["* 匯整評審資料、設定名次等",""],["",""],["",""],["## Data Schema / Model",""],["",""],["以下為 Schema 草案，僅列出必要部份. 若未特別註明, 均包含以下欄位",""],["* createdtime timestamp default now()",""],["* deleted bool",""],["",""],["### 核心系統",""],["",""],["* user ( 帳號管理 )",""],["* key int primary key",""],["* username text",""],["* email text",""],["* email_verified bool",""],["* passwd text",""],["* should be salted / bcrypted",""],["* displayname text",""],["* detail jsonb",""],["可能包含以下欄位",""],["* keywords",""],["* expertise",""],["* url",""],["* description",""],["",""],["* team ( 功能群組管理 )",""],["* key int primary",""],["* slug text unique",""],["* camelCased, 人類可讀的字串替群組命名",""],["* slug 用於源碼中的權限控制",""],["* displayname text",""],["",""],["* teamUser ( team x user )",""],["* team_key int references team(key)",""],["* user_key int references user(key)",""],["* primary key (team, user)",""],["",""],["* project ( 提案 )",""],["* key int primary key",""],["* owner int references user(key)",""],["* board int references board(key)",""],["* title text",""],["* detail jsonb",""],["提案細節. JSON 格式設計上至少要支援",""],["* 保存編修紀錄",""],["* 保留未來即時協作的擴充性",""],["",""],["* board (提案組, 例如某次黑客松或某屆獎助金)",""],["* key int primary key",""],["* title text",""],["* detail jsonb",""],["",""],["* token (TBD, for password reset and email verification)",""],["* type text",""],["* token",""],["* owner int references user(key)",""],["* createdtime timestamp default now()",""],["* expiretime timestamp",""],["",""],["* session (TBD, for storing user session )",""],["* key int primary key",""],["* detail text",""],["",""],["### 評論系統",""],["",""],["* thread ( 用於儲存針對特定 URL 的評論設定 )",""],["* key int primary key",""],["* url text unique",""],["* detail jsonb",""],["",""],["* comment ( 某個 thread 下的單則評論 )",""],["* key int primary key",""],["* thread int references thread(key)",""],["* reply int references comment(key)",""],["* owner int references user(key)",""],["* content jsonb",""],["評論內容. JSON 格式設計上至少要支援",""],["* 保存編修紀錄",""],["",""],["",""],["## 評審系統",""],["* review",""],["* key int primary key",""],["* owner int references user(key)",""],["* board int references board(key)",""],["* stage int (TBD)",""],["* detail jsonb ( 評分表, 依前端需求設計 )",""],["",""],["### 其它未釐清問題",""],["* 檔案上傳？",""],["* 附圖？",""],["",""],["",""],["--",""]]}}